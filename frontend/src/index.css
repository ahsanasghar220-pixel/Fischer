/* Fonts are loaded asynchronously in index.html to prevent render blocking */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Lenis smooth scroll styles */
html.lenis, html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

@layer base {
  :root {
    /* Light theme CSS variables */
    --color-bg-primary: 250 250 250;
    --color-bg-secondary: 255 255 255;
    --color-bg-tertiary: 244 244 245;
    --color-text-primary: 24 24 27;
    --color-text-secondary: 55 55 62; /* Improved contrast: was 63 63 70 */
    --color-text-muted: 82 82 91; /* Improved contrast: was 113 113 122 (now 4.5:1 ratio) */
    --color-border: 228 228 231;
    --color-accent: 114 47 55; /* Burgundy Wine #722F37 */
    --glass-bg: rgba(255, 255, 255, 0.85);
    --glass-border: rgba(228, 228, 231, 0.5);
    --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);
  }

  .dark {
    /* Dark theme CSS variables */
    --color-bg-primary: 9 9 11;
    --color-bg-secondary: 24 24 27;
    --color-bg-tertiary: 39 39 42;
    --color-text-primary: 250 250 250;
    --color-text-secondary: 220 220 224; /* Improved contrast: was 212 212 216 */
    --color-text-muted: 180 180 188; /* Improved contrast: was 161 161 170 (now 4.5:1 ratio) */
    --color-border: 63 63 70;
    --color-accent: 180 80 95; /* Lighter burgundy for dark mode visibility */
    --glass-bg: rgba(24, 24, 27, 0.8);
    --glass-border: rgba(255, 255, 255, 0.1);
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
  }

  body {
    @apply bg-dark-50 dark:bg-dark-950 text-dark-900 dark:text-dark-50 transition-colors duration-300;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
    /* Fix iOS touch delay */
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  /* Ensure #root doesn't overflow */
  #root {
    overflow-x: hidden;
    min-height: 100vh;
  }

  /* Custom scrollbar - Light mode */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-dark-100 dark:bg-dark-900;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dark-300 dark:bg-dark-600 rounded-full;
    border: 2px solid transparent;
    background-clip: content-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-dark-400 dark:bg-dark-500;
  }

  /* Selection */
  ::selection {
    @apply bg-primary-500/30 text-dark-900 dark:text-white;
  }

  /* Focus outline */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-dark-900;
  }
}

@layer components {
  /* ========================================
     BUTTONS - Premium styles with gradients
     ======================================== */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 font-semibold rounded-xl
           transition-all duration-300 ease-out
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
           active:scale-[0.98];
  }

  .btn-primary {
    @apply btn bg-primary-500 text-white
           hover:bg-primary-600 hover:shadow-glow hover:-translate-y-0.5
           focus:ring-primary-500 dark:focus:ring-offset-dark-900;
  }

  .btn-secondary {
    @apply btn bg-dark-900 dark:bg-white text-white dark:text-dark-900
           hover:bg-dark-800 dark:hover:bg-dark-100 hover:-translate-y-0.5
           focus:ring-dark-500;
  }

  .btn-outline {
    @apply btn border-2 border-dark-900 dark:border-white text-dark-900 dark:text-white bg-transparent
           hover:bg-dark-900 dark:hover:bg-white hover:text-white dark:hover:text-dark-900
           focus:ring-dark-500;
  }

  .btn-ghost {
    @apply btn text-dark-700 dark:text-dark-300 bg-transparent
           hover:bg-dark-100 dark:hover:bg-dark-800
           focus:ring-dark-300;
  }

  .btn-danger {
    @apply btn bg-gradient-to-r from-red-500 to-red-400 text-white
           hover:from-red-400 hover:to-red-300 hover:shadow-lg hover:-translate-y-0.5
           focus:ring-red-500;
  }

  .btn-sm {
    @apply px-4 py-2 text-sm rounded-lg;
  }

  .btn-lg {
    @apply px-8 py-4 text-lg rounded-2xl;
  }

  .btn-icon {
    @apply p-2.5 rounded-xl;
  }

  /* ========================================
     INPUTS - Modern floating label style
     ======================================== */
  .input {
    @apply w-full px-4 py-3.5
           bg-white dark:bg-dark-800
           border border-dark-200 dark:border-dark-700
           rounded-xl text-dark-900 dark:text-white
           placeholder:text-dark-400 dark:placeholder:text-dark-500
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
           transition-all duration-200;
  }

  .input-error {
    @apply border-red-500 dark:border-red-400 focus:ring-red-500;
  }

  .input-group {
    @apply relative;
  }

  .input-icon {
    @apply absolute left-4 top-1/2 -translate-y-1/2 text-dark-400 dark:text-dark-500 pointer-events-none;
  }

  .input-with-icon {
    @apply pl-12;
  }

  /* ========================================
     CARDS - Glass morphism and premium shadows
     ======================================== */
  .card {
    @apply bg-white dark:bg-dark-800/50 rounded-2xl
           border border-dark-200 dark:border-dark-700/50
           shadow-card backdrop-blur-sm
           transition-all duration-300;
  }

  .card-hover {
    @apply card hover:shadow-card-hover hover:border-dark-300 dark:hover:border-dark-600
           hover:-translate-y-1 cursor-pointer;
  }

  .card-glass {
    @apply bg-white/90 dark:bg-dark-800/60 backdrop-blur-xl
           border border-dark-200/60 dark:border-dark-700/30
           rounded-2xl shadow-lg dark:shadow-xl;
  }

  .card-premium {
    @apply bg-gradient-to-br from-white to-dark-50 dark:from-dark-800 dark:to-dark-900
           rounded-3xl border border-dark-200 dark:border-dark-700
           shadow-lg dark:shadow-premium;
  }

  /* ========================================
     BADGES - Status and tags
     ======================================== */
  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide;
  }

  .badge-primary {
    @apply badge bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300;
  }

  .badge-success {
    @apply badge bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300;
  }

  .badge-warning {
    @apply badge bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300;
  }

  .badge-danger {
    @apply badge bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300;
  }

  .badge-info {
    @apply badge bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300;
  }

  .badge-dark {
    @apply badge bg-dark-900 dark:bg-dark-100 text-white dark:text-dark-900;
  }

  /* ========================================
     SECTIONS - Layout helpers
     ======================================== */
  .section {
    @apply py-16 md:py-20 lg:py-24;
  }

  /* Responsive container padding utility */
  .container-padding {
    @apply px-4 sm:px-6 md:px-8 lg:px-12;
  }

  /* Touch-friendly targets - minimum 44px for accessibility */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  .section-sm {
    @apply py-12 md:py-16;
  }

  .section-title {
    @apply text-3xl md:text-4xl lg:text-5xl font-bold font-display
           text-dark-900 dark:text-white tracking-tight;
  }

  .section-subtitle {
    @apply text-lg md:text-xl text-dark-500 dark:text-dark-400 mt-4 max-w-2xl;
  }

  .container-xl {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* ========================================
     PRODUCT CARDS - E-commerce specific
     ======================================== */
  .product-card {
    @apply relative bg-white dark:bg-dark-800/50 rounded-2xl overflow-visible
           border border-dark-100 dark:border-dark-700/50
           shadow-card hover:shadow-card-hover
           transition-all duration-500 ease-out;
  }

  .product-card:hover {
    @apply -translate-y-2 border-primary-200 dark:border-primary-800;
  }

  .product-card .product-image {
    @apply relative aspect-square overflow-hidden bg-gradient-to-br from-dark-50 to-dark-100 dark:from-dark-800 dark:to-dark-900 rounded-t-2xl;
  }

  .product-card .product-image img {
    @apply w-full h-full object-cover transition-transform duration-700 ease-out;
  }

  .product-card:hover .product-image img {
    @apply scale-110;
  }

  .product-card .product-overlay {
    @apply absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent
           opacity-0 group-hover:opacity-100 transition-opacity duration-300;
  }

  .product-card .product-actions {
    @apply absolute bottom-4 left-4 right-4 flex gap-2
           translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100
           transition-all duration-300 delay-100;
  }

  .product-card .product-info {
    @apply p-5;
  }

  .product-card .product-category {
    @apply text-xs font-medium text-primary-600 dark:text-primary-400 uppercase tracking-wider mb-2;
  }

  .product-card .product-name {
    @apply font-semibold text-dark-900 dark:text-white line-clamp-2
           group-hover:text-primary-600 dark:group-hover:text-primary-400
           transition-colors duration-300;
  }

  .product-card .product-price {
    @apply text-xl font-bold text-dark-900 dark:text-white mt-3 flex items-baseline gap-2;
  }

  .product-card .product-price-old {
    @apply text-sm font-normal text-dark-400 line-through;
  }

  .product-card .product-badge {
    @apply absolute top-4 left-4 z-10;
  }

  .product-card .product-wishlist {
    @apply absolute top-4 right-4 z-10 p-2 rounded-full
           bg-white/90 dark:bg-dark-800/90 backdrop-blur-sm
           text-dark-600 dark:text-dark-300
           opacity-0 group-hover:opacity-100
           hover:text-red-500 dark:hover:text-red-400 hover:scale-110
           transition-all duration-300;
  }

  /* ========================================
     TOUCH DEVICE OVERRIDES
     ======================================== */
  /* On touch-primary devices, always show product actions and dots */
  @media (pointer: coarse) {
    .product-card .product-actions {
      @apply translate-y-0 opacity-100;
    }

    .product-card .product-wishlist {
      @apply opacity-100;
    }

    /* Disable 3D tilt transforms on touch */
    .product-card {
      transform: none !important;
    }

    /* Disable decorative hover animations on touch */
    .shine-sweep::before,
    .card-shine::after {
      display: none;
    }

    .hover-glow::before {
      display: none;
    }

    /* Reduce shimmer/glow animations on touch for performance */
    .shimmer-gold,
    .animate-shimmer {
      animation: none;
    }

    /* Skip stagger delays on touch for faster perceived load */
    .stagger-1,
    .stagger-2,
    .stagger-3,
    .stagger-4,
    .stagger-5 {
      animation-delay: 0ms;
    }
  }

  /* ========================================
     SKELETON LOADING
     ======================================== */
  .skeleton {
    @apply bg-gradient-to-r from-dark-200 via-dark-100 to-dark-200
           dark:from-dark-700 dark:via-dark-600 dark:to-dark-700
           bg-[length:200%_100%] animate-shimmer rounded;
  }

  /* ========================================
     GLASS EFFECTS
     ======================================== */
  .glass {
    @apply bg-white/85 dark:bg-dark-900/70 backdrop-blur-xl
           border border-dark-200/50 dark:border-dark-700/30
           shadow-sm dark:shadow-none;
  }

  .glass-card {
    @apply glass rounded-2xl shadow-lg dark:shadow-xl;
  }

  /* ========================================
     GRADIENT BORDERS
     ======================================== */
  .gradient-border {
    @apply relative;
  }

  .gradient-border::before {
    content: '';
    @apply absolute inset-0 rounded-2xl p-[2px]
           bg-gradient-to-r from-primary-500 via-primary-400 to-primary-600
           -z-10;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* ========================================
     ANIMATED GRADIENT BACKGROUND
     ======================================== */
  .gradient-animated {
    background: linear-gradient(-45deg, #722F37, #8B3D47, #A64D5A, #5E2730);
    background-size: 400% 400%;
    animation: gradient 8s ease infinite;
  }

  /* ========================================
     THEME TOGGLE
     ======================================== */
  .theme-toggle {
    @apply relative w-14 h-7 bg-dark-200 dark:bg-dark-700 rounded-full
           cursor-pointer transition-colors duration-300;
  }

  .theme-toggle::after {
    content: '';
    @apply absolute top-1 left-1 w-5 h-5 bg-white rounded-full
           shadow-md transition-transform duration-300
           dark:translate-x-7 dark:bg-primary-500;
  }

  /* ========================================
     STAT CARDS
     ======================================== */
  .stat-card {
    @apply relative overflow-hidden rounded-2xl p-6
           bg-white dark:bg-dark-800/50
           border border-dark-100 dark:border-dark-700/50;
  }

  .stat-card::before {
    content: '';
    @apply absolute top-0 right-0 w-32 h-32
           bg-gradient-to-br from-primary-500/10 to-transparent
           rounded-bl-full;
  }

  /* ========================================
     NAVIGATION STYLES
     ======================================== */
  .nav-link {
    @apply relative text-dark-600 dark:text-dark-300 font-medium
           hover:text-dark-900 dark:hover:text-white
           transition-colors duration-200;
  }

  .nav-link::after {
    content: '';
    @apply absolute -bottom-1 left-0 w-0 h-0.5
           bg-primary-500 rounded-full
           transition-all duration-300;
  }

  .nav-link:hover::after,
  .nav-link.active::after {
    @apply w-full;
  }

  .nav-link.active {
    @apply text-dark-900 dark:text-white;
  }

  /* ========================================
     DROPDOWN MENUS
     ======================================== */
  .dropdown {
    @apply absolute top-full mt-2 w-56
           bg-white dark:bg-dark-800
           border border-dark-100 dark:border-dark-700
           rounded-xl shadow-xl overflow-hidden
           opacity-0 invisible translate-y-2
           transition-all duration-200;
  }

  .dropdown.open {
    @apply opacity-100 visible translate-y-0;
  }

  .dropdown-item {
    @apply block px-4 py-3 text-dark-700 dark:text-dark-200
           hover:bg-dark-50 dark:hover:bg-dark-700/50
           transition-colors duration-150;
  }

  /* ========================================
     SCROLLBAR HIDE UTILITY
     ======================================== */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

@layer utilities {
  /* Line clamp utilities */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Text gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400;
  }

  .text-gradient-animated {
    @apply bg-clip-text text-transparent gradient-animated;
  }

  /* Glow effects */
  .glow-sm {
    box-shadow: 0 0 10px rgba(114, 47, 55, 0.3);
  }

  .glow {
    box-shadow: 0 0 20px rgba(114, 47, 55, 0.4);
  }

  .glow-lg {
    box-shadow: 0 0 30px rgba(114, 47, 55, 0.5);
  }

  /* Animation delays */
  .animation-delay-100 { animation-delay: 100ms; }
  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-500 { animation-delay: 500ms; }

  /* Enhanced shadow for dark mode glow */
  .shadow-glow-lg {
    box-shadow: 0 0 40px rgba(114, 47, 55, 0.4), 0 0 80px rgba(114, 47, 55, 0.2);
  }

  /* Hero section background pattern */
  .bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }

  /* Aspect ratios */
  .aspect-product { aspect-ratio: 4/5; }
  .aspect-banner { aspect-ratio: 21/9; }
  .aspect-hero { aspect-ratio: 16/7; }

  /* Backdrop utilities */
  .backdrop-blur-xs { backdrop-filter: blur(2px); }

  /* Border gradient */
  .border-gradient {
    border: double 2px transparent;
    background-image: linear-gradient(white, white), linear-gradient(to right, #722F37, #8B3D47);
    background-origin: border-box;
    background-clip: padding-box, border-box;
  }

  .dark .border-gradient {
    background-image: linear-gradient(#18181b, #18181b), linear-gradient(to right, #B4505F, #C76A78);
  }
}

/* ========================================
   MOBILE RESPONSIVENESS FIXES
   ======================================== */
@media (max-width: 640px) {
  /* Ensure text is readable on mobile */
  html {
    font-size: 15px;
  }

  /* Better touch targets */
  button, a, input, select, textarea {
    min-height: 44px;
  }

  /* Fix button sizes on mobile */
  .btn {
    @apply px-4 py-3 text-sm;
  }

  /* Prevent text from being too large */
  h1 {
    @apply text-3xl !important;
  }

  h2 {
    @apply text-2xl !important;
  }

  /* Better spacing on mobile */
  .container-xl {
    @apply px-4;
  }

  /* Fix product cards on mobile */
  .product-card .product-image {
    @apply aspect-square;
  }

  /* Smaller images on mobile */
  img {
    max-width: 100%;
    height: auto;
  }

  /* Fix table overflow on mobile */
  table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }

  /* Hide scrollbar on mobile for horizontal scroll elements */
  .overflow-x-auto::-webkit-scrollbar {
    display: none;
  }
}

/* ========================================
   TABLET FIXES
   ======================================== */
@media (min-width: 641px) and (max-width: 1023px) {
  /* Better grid layouts for tablets */
  .grid-cols-4 {
    @apply grid-cols-2;
  }

  .grid-cols-3 {
    @apply grid-cols-2;
  }
}

/* ========================================
   SAFE AREA INSETS (for notched phones)
   ======================================== */
@supports (padding: max(0px)) {
  body {
    padding-left: max(0px, env(safe-area-inset-left));
    padding-right: max(0px, env(safe-area-inset-right));
  }

  /* Bottom navigation/footer padding */
  .pb-safe {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}

/* ========================================
   PREMIUM DARK LUXURY THEME ENHANCEMENTS
   ======================================== */

/* Advanced glassmorphism effect */
.glass-premium {
  background: rgba(24, 24, 27, 0.6);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow:
    0 4px 30px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Frosted glass card */
.glass-frosted {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.05) 0%,
    rgba(255, 255, 255, 0.02) 100%
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1.5rem;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2);
}

/* Premium hover glow effect */
.hover-glow {
  position: relative;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-glow::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(135deg, #722F37, #8B3D47, #A64D5A);
  opacity: 0;
  z-index: -1;
  filter: blur(12px);
  transition: opacity 0.4s ease;
}

.hover-glow:hover::before {
  opacity: 0.6;
}

/* Ambient glow for featured elements */
.ambient-glow {
  box-shadow:
    0 0 60px -15px rgba(114, 47, 55, 0.4),
    0 0 120px -30px rgba(114, 47, 55, 0.2);
}

/* Shimmer animation for premium elements */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.shimmer-gold {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(114, 47, 55, 0.15) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 3s infinite;
}

/* Animated gradient text */
@keyframes gradient-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient {
  animation: gradient-flow 4s ease infinite;
}

/* Subtle noise texture overlay */
.texture-noise::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.03;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

/* Premium card shine effect */
.card-shine {
  position: relative;
  overflow: hidden;
}

.card-shine::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.05),
    transparent
  );
  transition: left 0.6s ease;
}

.card-shine:hover::after {
  left: 100%;
}

/* Animated border for premium sections */
.border-animated {
  position: relative;
}

.border-animated::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    90deg,
    rgba(114, 47, 55, 0),
    rgba(114, 47, 55, 0.5),
    rgba(114, 47, 55, 0)
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: border-shimmer 3s linear infinite;
}

@keyframes border-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* 3D depth effect */
.depth-3d {
  transform-style: preserve-3d;
  perspective: 1000px;
}

.depth-3d:hover {
  transform: translateZ(10px);
}

/* Premium scrollbar for dark mode */
.dark ::-webkit-scrollbar-track {
  background: #0a0a0a;
}

.dark ::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #27272a 0%, #3f3f46 100%);
  border: 2px solid #0a0a0a;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #3f3f46 0%, #52525b 100%);
}

/* Elegant shadow for floating elements */
.shadow-elegant {
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 8px 16px rgba(0, 0, 0, 0.1),
    0 16px 32px rgba(0, 0, 0, 0.15),
    0 32px 64px rgba(0, 0, 0, 0.15);
}

/* Spotlight effect on hover */
.spotlight {
  position: relative;
  overflow: hidden;
}

.spotlight::before {
  content: '';
  position: absolute;
  width: 150%;
  height: 150%;
  background: radial-gradient(
    circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(114, 47, 55, 0.15) 0%,
    transparent 50%
  );
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.spotlight:hover::before {
  opacity: 1;
}

/* Slow pulse animation for CTAs */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(114, 47, 55, 0.4);
  }
  50% {
    box-shadow: 0 0 40px rgba(114, 47, 55, 0.6);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Floating animation */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

/* Slow spin for decorative elements */
@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 30s linear infinite;
}

/* Bounce slow for badges */
@keyframes bounce-slow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

.animate-bounce-slow {
  animation: bounce-slow 3s ease-in-out infinite;
}

/* Slide up animation for scroll indicator */
@keyframes slide-up {
  0%, 100% { transform: translateY(0); opacity: 1; }
  50% { transform: translateY(-8px); opacity: 0.5; }
}

.animate-slide-up {
  animation: slide-up 1.5s ease-in-out infinite;
}

/* Blob animation for backgrounds */
@keyframes blob {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(20px, -30px) scale(1.1); }
  50% { transform: translate(-20px, 20px) scale(0.9); }
  75% { transform: translate(30px, 10px) scale(1.05); }
}

.animate-blob {
  animation: blob 20s ease-in-out infinite;
}

/* Pulse slow for glows */
@keyframes pulse-slow {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.05); }
}

.animate-pulse-slow {
  animation: pulse-slow 4s ease-in-out infinite;
}

/* Preserve 3D for card effects */
.preserve-3d {
  transform-style: preserve-3d;
}

/* Fade in up animation */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
}

/* ========================================
   MICRO-INTERACTION UTILITIES
   ======================================== */

/* Sweep underline on hover */
.btn-hover-underline {
  position: relative;
  overflow: hidden;
}

.btn-hover-underline::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, #722F37, #8B3D47);
  transform: translateX(-100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-hover-underline:hover::after {
  transform: translateX(0);
}

/* Magnetic button effect - slight scale on hover, shrink on active */
.btn-magnetic {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease;
}

.btn-magnetic:hover {
  transform: scale(1.02);
}

.btn-magnetic:active {
  transform: scale(0.98);
}

/* Link underline grows from center */
.link-underline-grow {
  position: relative;
  text-decoration: none;
}

.link-underline-grow::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 50%;
  width: 0;
  height: 2px;
  background: currentColor;
  transition: width 0.3s ease, left 0.3s ease;
}

.link-underline-grow:hover::after {
  width: 100%;
  left: 0;
}

/* Scale bounce on tap/click - good for mobile */
.tap-bounce {
  transition: transform 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.tap-bounce:active {
  transform: scale(0.95);
}

/* Rotate on hover - subtle rotation for icons */
.hover-rotate {
  transition: transform 0.3s ease;
}

.hover-rotate:hover {
  transform: rotate(10deg);
}

/* Lift effect - combines translate and shadow */
.hover-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
}

/* Glow on hover for buttons/cards */
.hover-glow-primary {
  transition: box-shadow 0.3s ease;
}

.hover-glow-primary:hover {
  box-shadow: 0 0 20px rgba(114, 47, 55, 0.4);
}

/* Icon slide - icon moves on hover */
.icon-slide-right {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.group:hover .icon-slide-right,
.icon-slide-right:hover {
  transform: translateX(4px);
}

/* Staggered entrance animation helper */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }
.stagger-5 { animation-delay: 0.5s; }

/* Ripple effect on click */
.ripple {
  position: relative;
  overflow: hidden;
}

.ripple::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s ease, height 0.6s ease, opacity 0.6s ease;
}

.ripple:active::before {
  width: 200%;
  height: 200%;
  opacity: 0;
}

/* Subtle shake animation for attention */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

/* Heartbeat animation for liked items */
@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  25% { transform: scale(1.1); }
  50% { transform: scale(1); }
  75% { transform: scale(1.1); }
}

.animate-heartbeat {
  animation: heartbeat 1s ease-in-out;
}

/* Success checkmark animation */
@keyframes checkmark {
  0% { stroke-dashoffset: 100; }
  100% { stroke-dashoffset: 0; }
}

.animate-checkmark {
  stroke-dasharray: 100;
  animation: checkmark 0.5s ease-in-out forwards;
}

/* Scroll indicator bounce animation */
@keyframes scroll-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(6px); }
}

.animate-scroll-bounce {
  animation: scroll-bounce 2s ease-in-out infinite;
}

/* Smooth scale on scroll into view */
@keyframes scale-in {
  0% { opacity: 0; transform: scale(0.9); }
  100% { opacity: 1; transform: scale(1); }
}

.animate-scale-in {
  animation: scale-in 0.6s ease-out forwards;
}

/* Slide up fade in */
@keyframes slide-up-fade {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}

.animate-slide-up-fade {
  animation: slide-up-fade 0.7s ease-out forwards;
}

/* Parallax-like subtle movement */
@keyframes subtle-float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-5px) rotate(0.5deg); }
  75% { transform: translateY(5px) rotate(-0.5deg); }
}

.animate-subtle-float {
  animation: subtle-float 6s ease-in-out infinite;
}

/* Shimmer effect for loading states */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Glow pulse for attention-grabbing elements */
@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 5px rgba(114, 47, 55, 0.3), 0 0 10px rgba(114, 47, 55, 0.2); }
  50% { box-shadow: 0 0 20px rgba(114, 47, 55, 0.5), 0 0 30px rgba(114, 47, 55, 0.3); }
}

.animate-glow-pulse {
  animation: glow-pulse 3s ease-in-out infinite;
}

/* Text reveal animation */
@keyframes text-reveal {
  0% { clip-path: inset(0 100% 0 0); }
  100% { clip-path: inset(0 0 0 0); }
}

.animate-text-reveal {
  animation: text-reveal 0.8s ease-out forwards;
}

/* Bounce in for modals/popups */
@keyframes bounce-in {
  0% { opacity: 0; transform: scale(0.3); }
  50% { opacity: 1; transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); }
}

.animate-bounce-in {
  animation: bounce-in 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

/* ========================================
   GPU-ACCELERATED ANIMATION HELPERS
   ======================================== */

/* Force GPU acceleration for animated elements */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform, opacity;
}

/* Remove will-change after animation to free up resources */
.animation-done {
  will-change: auto;
}

/* ========================================
   PERFORMANCE-OPTIMIZED SCROLL ANIMATIONS
   ======================================== */

/* Performance-optimized animations - GPU accelerated only */
@media (prefers-reduced-motion: no-preference) {
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px) translateZ(0);
    transition: opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .animate-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }

  /* Deferred animations - only after initial load */
  .deferred-animation {
    opacity: 0;
  }

  .deferred-animation.ready {
    animation: deferred-fade-in 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
}

@keyframes deferred-fade-in {
  to {
    opacity: 1;
  }
}

/* Critical path animations - lightweight CSS only */
.critical-fade-in {
  animation: critical-fade 0.3s ease-out forwards;
}

@keyframes critical-fade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Respect user preferences - accessibility first */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ========================================
   ADVANCED SMOOTH ANIMATIONS
   ======================================== */

/* Ultra-smooth transition utility */
.transition-smooth {
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

.transition-smooth-fast {
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Spring-like hover effect */
.hover-spring {
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.hover-spring:hover {
  transform: scale(1.05);
}

.hover-spring:active {
  transform: scale(0.98);
}

/* Premium shine sweep effect */
.shine-sweep {
  position: relative;
  overflow: hidden;
}

.shine-sweep::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  transition: left 0.7s ease;
}

.shine-sweep:hover::before {
  left: 100%;
}

/* Text gradient shimmer */
.text-shimmer {
  background: linear-gradient(
    90deg,
    #722F37 0%,
    #8B3D47 25%,
    #fff 50%,
    #8B3D47 75%,
    #722F37 100%
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: text-shimmer-anim 3s linear infinite;
}

@keyframes text-shimmer-anim {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

/* Smooth parallax float */
.float-smooth {
  animation: float-smooth 6s cubic-bezier(0.45, 0, 0.55, 1) infinite;
}

@keyframes float-smooth {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-12px) rotate(0.5deg); }
  50% { transform: translateY(-6px) rotate(0deg); }
  75% { transform: translateY(-15px) rotate(-0.5deg); }
}

/* Smooth underline animation */
.underline-smooth {
  position: relative;
}

.underline-smooth::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, #722F37, #8B3D47);
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.underline-smooth:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* Elastic button press */
.btn-elastic {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.btn-elastic:active {
  transform: scale(0.95);
}

/* Breathing glow effect */
.glow-breathe {
  animation: glow-breathe 3s ease-in-out infinite;
}

@keyframes glow-breathe {
  0%, 100% {
    box-shadow: 0 0 15px rgba(114, 47, 55, 0.3), 0 0 30px rgba(114, 47, 55, 0.15);
  }
  50% {
    box-shadow: 0 0 25px rgba(114, 47, 55, 0.5), 0 0 50px rgba(114, 47, 55, 0.25);
  }
}

/* Icon bounce on hover */
.icon-bounce:hover svg,
.icon-bounce:hover .icon {
  animation: icon-bounce-anim 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes icon-bounce-anim {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

/* ========================================
   3D PERSPECTIVE UTILITIES FOR ANIMATIONS
   ======================================== */

/* 3D perspective container */
.perspective-1000 {
  perspective: 1000px;
  perspective-origin: center;
}

.perspective-500 {
  perspective: 500px;
  perspective-origin: center;
}

/* Preserve 3D transformations */
.preserve-3d {
  transform-style: preserve-3d;
}

/* Backface visibility for card flips */
.backface-hidden {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.backface-visible {
  backface-visibility: visible;
  -webkit-backface-visibility: visible;
}

/* 3D rotation utilities */
.rotate-y-180 {
  transform: rotateY(180deg);
}

.rotate-x-180 {
  transform: rotateX(180deg);
}

/* Hardware acceleration for smooth animations */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

.transform-gpu {
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  perspective: 1000px;
  -webkit-perspective: 1000px;
}

/* Mobile-First Typography - Fotile-inspired */
@media (max-width: 640px) {
  html {
    font-size: 16px;
  }

  body {
    @apply leading-relaxed;
  }

  h1, .mobile-heading-hero {
    @apply text-3xl font-black tracking-tight;
  }

  h2, .mobile-heading-section {
    @apply text-2xl font-black tracking-tight;
  }

  h3 {
    @apply text-xl font-bold;
  }

  /* Larger touch targets on mobile */
  button, a[role="button"], input[type="button"], input[type="submit"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Product cards - simplified on mobile */
  .product-card {
    @apply shadow-sm hover:shadow-md;
  }

  .product-card .product-wishlist {
    @apply opacity-100;
  }
}

